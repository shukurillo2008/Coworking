{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="row">
    <div class="col">
        <div class="page-description">
            <h1>Dashboard</h1>
        </div>
    </div>
</div>
{% if messages %}
    {% for message in messages %}
    {% if message.tags %}
    <div class="alert alert-{{ message.tags }}" role="alert">
        <span> {{ message }} </span>
    </div>
    {% endif %}
    {% endfor %}

{% endif %}
<div class="row">

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-warning">
                        <i class="material-icons-outlined">groups</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Students</span>
                        <span class="widget-stats-amount">{{students}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-primary">
                        <i class="material-icons-outlined">group</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Visits Today</span>
                        <span class="widget-stats-amount">{{visits_today}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-danger">
                        <i class="material-icons-outlined">workspace_premium</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Used Degrees Today</span>
                        <span class="widget-stats-amount">{{used_degree}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-warning">
                        <i class="material-icons-outlined">account_balance</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Not used degrees</span>
                        <span class="widget-stats-amount">{{not_used_degree}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-primary">
                        <i class="material-icons-outlined">groups</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Visits All time</span>
                        <span class="widget-stats-amount">{{visits_all}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-4">
        <div class="card widget widget-stats">
            <div class="card-body">
                <div class="widget-stats-container d-flex">
                    <div class="widget-stats-icon widget-stats-icon-danger">
                        <i class="material-icons-outlined">workspace_premium</i>
                    </div>
                    <div class="widget-stats-content flex-fill">
                        <span class="widget-stats-title">Used Degrees All time</span>
                        <span class="widget-stats-amount">{{used_degree_all}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>    

<div class="row">
    <div class="col">
        <div class="page-description">
            <h1>Add Worker</h1>
        </div>
    </div>
    <div class="col">
        <div class="page-description">
            <h1>Change price</h1>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div class="tab-pane fade show active">
                <div class="card">
                    <div class="card-body">
                        <form action="{% url 'worker_create_url' %}" method="post">
                            {% csrf_token %}
                            <div class="row m-t-lg">
                                <div class="col-md">
                                    <label for="settingsInputFirstName" class="form-label">Username</label>
                                    <input type="text" class="form-control"  name="username" required>
                                </div>
                                <div class="col-md">
                                    <label for="settingsInputLastName" class="form-label">Password</label>
                                    <input type="password" class="form-control" name="password" required>
                                </div>
                            </div>
                            <div class="col">
                                <button type="submit" class="btn btn-primary m-t-sm">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
        </div>
    </div>

    <div class="col">
        <div class="tab-pane fade show active">
                <div class="card">
                    <div class="card-body">
                        <form action="{% url 'change_price_url' %}" method="post">
                            {% csrf_token %}
                            <div class="row m-t-lg">
                                <div class="col-md">
                                    <label for="settingsInputFirstName" class="form-label">Price per Hour</label>
                                    <input type="number" class="form-control"  name="price" value="{{price.price}}" required>
                                </div>
                            </div>
                            <div class="col">
                                <button type="submit" class="btn btn-primary m-t-sm">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md">
        <div class="card">

            <div class="card-header">
                <h5 class="card-title">workers</h5>
            </div>
            <div class="card-body">
                <div class="example-container">
                    <div class="example-content">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">â„–</th>
                                    <th scope="col">Username</th>
                                    <th scope="col">ID</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for worker in workers %}
                                <tr>
                                    <th scope="row">{{ forloop.counter }}</th>
                                    <td><a href="{% url 'worker_edit_url' worker.id %}">{{worker.username}}</a></td>
                                    <td>{{worker.id}}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        
    </div>
</div>

{% endblock %}

<!-- <a href="{% url 'worker_edit_url' worker.id %}"></a> -->